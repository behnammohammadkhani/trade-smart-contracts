<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="7021pt" height="2982pt"
 viewBox="0.00 0.00 7020.72 2981.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2977.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2977.8 7016.7203,-2977.8 7016.7203,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4522.1719,-1441.3 4522.1719,-1616.5 4872.9875,-1616.5 4872.9875,-1441.3 4522.1719,-1441.3"/>
<text text-anchor="middle" x="4697.5797" y="-1599.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="4697.5797" y="-1583.1" font-family="Times,serif" font-size="14.00" fill="#000000">Authorizable</text>
<polyline fill="none" stroke="#000000" points="4522.1719,-1574.9 4872.9875,-1574.9 "/>
<text text-anchor="start" x="4530.1719" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4530.1719" y="-1541.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;authorization: IAuthorization</text>
<polyline fill="none" stroke="#000000" points="4522.1719,-1533.3 4872.9875,-1533.3 "/>
<text text-anchor="start" x="4530.1719" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4530.1719" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setAuthorization(authorization_: address)</text>
<text text-anchor="start" x="4530.1719" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4530.1719" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AuthorizationSet(newAuthorization: address)</text>
<text text-anchor="start" x="4530.1719" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAuthorized()</text>
</g>
<!-- 13 -->
<g id="node19" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3871.2023,-2333.9 3871.2023,-2542.7 4373.9571,-2542.7 4373.9571,-2333.9 3871.2023,-2333.9"/>
<text text-anchor="middle" x="4122.5797" y="-2526.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4122.5797" y="-2509.3" font-family="Times,serif" font-size="14.00" fill="#000000">IAuthorization</text>
<polyline fill="none" stroke="#000000" points="3871.2023,-2501.1 4373.9571,-2501.1 "/>
<text text-anchor="middle" x="4122.5797" y="-2484.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3871.2023,-2476.3 4373.9571,-2476.3 "/>
<text text-anchor="start" x="3879.2023" y="-2459.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3879.2023" y="-2442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPermissions(_permissions: address)</text>
<text text-anchor="start" x="3879.2023" y="-2426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="3879.2023" y="-2409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setOperationsRegistry(_operationsRegistry: address)</text>
<text text-anchor="start" x="3879.2023" y="-2392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setTradingLimit(_tradingLimit: uint256)</text>
<text text-anchor="start" x="3879.2023" y="-2375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPoolFactory(_poolFactory: address)</text>
<text text-anchor="start" x="3879.2023" y="-2358.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="3879.2023" y="-2342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isAuthorized(_user: address, _asset: address, _operation: bytes4, _data: bytes): bool</text>
</g>
<!-- 0&#45;&gt;13 -->
<g id="edge7" class="edge">
<title>0&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M4642.1853,-1616.5098C4537.3842,-1782.2597 4310.2137,-2141.5446 4194.0792,-2325.2188"/>
<polygon fill="#000000" stroke="#000000" points="4191.0198,-2323.5083 4188.6339,-2333.831 4196.9364,-2327.2493 4191.0198,-2323.5083"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4891.1719,-1441.3 4891.1719,-1616.5 5241.9875,-1616.5 5241.9875,-1441.3 4891.1719,-1441.3"/>
<text text-anchor="middle" x="5066.5797" y="-1599.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="5066.5797" y="-1583.1" font-family="Times,serif" font-size="14.00" fill="#000000">AuthorizableUpgradeable</text>
<polyline fill="none" stroke="#000000" points="4891.1719,-1574.9 5241.9875,-1574.9 "/>
<text text-anchor="start" x="4899.1719" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4899.1719" y="-1541.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;authorization: IAuthorization</text>
<polyline fill="none" stroke="#000000" points="4891.1719,-1533.3 5241.9875,-1533.3 "/>
<text text-anchor="start" x="4899.1719" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4899.1719" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setAuthorization(authorization_: address)</text>
<text text-anchor="start" x="4899.1719" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4899.1719" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AuthorizationSet(newAuthorization: address)</text>
<text text-anchor="start" x="4899.1719" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAuthorized()</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M5049.825,-1616.944C5026.7989,-1718.0107 4976.9199,-1884.081 4881.5797,-1995 4747.9551,-2150.4592 4545.5708,-2264.8318 4383.3845,-2338.4307"/>
<polygon fill="#000000" stroke="#000000" points="4381.9054,-2335.2582 4374.2297,-2342.5613 4384.7843,-2341.6389 4381.9054,-2335.2582"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3464.5174,-397.5 3464.5174,-1026.3 4488.642,-1026.3 4488.642,-397.5 3464.5174,-397.5"/>
<text text-anchor="middle" x="3976.5797" y="-1009.7" font-family="Times,serif" font-size="14.00" fill="#000000">Authorization</text>
<polyline fill="none" stroke="#000000" points="3464.5174,-1001.5 4488.642,-1001.5 "/>
<text text-anchor="middle" x="3976.5797" y="-984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3464.5174,-976.7 4488.642,-976.7 "/>
<text text-anchor="start" x="3472.5174" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3472.5174" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkERC20Permissions(_sender: address, _user: address, _asset: address, _operation: bytes4, _amount: uint256): bool</text>
<text text-anchor="start" x="3472.5174" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setPermissions(_permissions: address)</text>
<text text-anchor="start" x="3472.5174" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setTradingLimit(_tradingLimit: uint256)</text>
<text text-anchor="start" x="3472.5174" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setOperationsRegistry(_operationsRegistry: address)</text>
<text text-anchor="start" x="3472.5174" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setPoolFactory(_poolFactory: address)</text>
<text text-anchor="start" x="3472.5174" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="3472.5174" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="3472.5174" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkBFactoryPermissions(_user: address): bool</text>
<text text-anchor="start" x="3472.5174" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkByTier(_user: address, _asset: address, _operation: bytes4, _amount: uint256, _permissionsBlance: uint256[]): bool</text>
<text text-anchor="start" x="3472.5174" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkRejected(_operation: bytes4): bool</text>
<text text-anchor="start" x="3472.5174" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkProtocolContract(_operation: bytes4, _permissionUser: uint256, _permissionSender: uint256): bool</text>
<text text-anchor="start" x="3472.5174" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isERC20Operation(_operation: bytes4): bool</text>
<text text-anchor="start" x="3472.5174" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isBFactoryOperation(_operation: bytes4): bool</text>
<text text-anchor="start" x="3472.5174" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3472.5174" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="3472.5174" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="3472.5174" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3472.5174" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PermissionsSet(newPermissions: address)</text>
<text text-anchor="start" x="3472.5174" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradingLimitSet(newLimit: uint256)</text>
<text text-anchor="start" x="3472.5174" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EurPriceFeedSet(newEurPriceFeed: address)</text>
<text text-anchor="start" x="3472.5174" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolFactorySet(poolFactory: address)</text>
<text text-anchor="start" x="3472.5174" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; XTokenWrapperSet(xTokenWrapper: address)</text>
<text text-anchor="start" x="3472.5174" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Paused(account: address)</text>
<text text-anchor="start" x="3472.5174" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Unpaused(account: address)</text>
<text text-anchor="start" x="3472.5174" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OperationsRegistrySet(newOperationsRegistry: address)</text>
<text text-anchor="start" x="3472.5174" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isAuthorized(_user: address, _asset: address, _operation: bytes4, _data: bytes): bool</text>
<text text-anchor="start" x="3472.5174" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPermissions(_permissions: address)</text>
<text text-anchor="start" x="3472.5174" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="3472.5174" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTradingLimit(_tradingLimit: uint256)</text>
<text text-anchor="start" x="3472.5174" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOperationsRegistry(_operationsRegistry: address)</text>
<text text-anchor="start" x="3472.5174" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolFactory(_poolFactory: address)</text>
<text text-anchor="start" x="3472.5174" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="3472.5174" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_permissions: address, _eurPriceFeed: address, _operationsRegistry: address, _poolFactory: address, _xTokenWrapper: address, _tradingLimit: uint256, _paused: bool)</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3858.133,-1323.7 3858.133,-1734.1 4095.0264,-1734.1 4095.0264,-1323.7 3858.133,-1323.7"/>
<text text-anchor="middle" x="3976.5797" y="-1717.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3976.5797" y="-1700.7" font-family="Times,serif" font-size="14.00" fill="#000000">AuthorizationStorage</text>
<polyline fill="none" stroke="#000000" points="3858.133,-1692.5 4095.0264,-1692.5 "/>
<text text-anchor="start" x="3866.133" y="-1675.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3866.133" y="-1659.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permissions: address</text>
<text text-anchor="start" x="3866.133" y="-1642.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;eurPriceFeed: address</text>
<text text-anchor="start" x="3866.133" y="-1625.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;operationsRegistry: address</text>
<text text-anchor="start" x="3866.133" y="-1608.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolFactory: address</text>
<text text-anchor="start" x="3866.133" y="-1591.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;xTokenWrapper: address</text>
<text text-anchor="start" x="3866.133" y="-1575.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingLimit: uint256</text>
<text text-anchor="start" x="3866.133" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;paused: bool</text>
<text text-anchor="start" x="3866.133" y="-1541.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ERC20_TRANSFER: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1524.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ERC20_TRANSFER_FROM: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1507.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ERC20_APPROVE: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1491.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ERC20_MINT: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1474.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ERC20_BURN_FROM: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1457.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BFACTORY_NEW_POOL: bytes4</text>
<text text-anchor="start" x="3866.133" y="-1440.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SUSPENDED_ID: uint256</text>
<text text-anchor="start" x="3866.133" y="-1423.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;TIER_1_ID: uint256</text>
<text text-anchor="start" x="3866.133" y="-1407.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;TIER_2_ID: uint256</text>
<text text-anchor="start" x="3866.133" y="-1390.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REJECTED_ID: uint256</text>
<text text-anchor="start" x="3866.133" y="-1373.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PROTOCOL_CONTRACT: uint256</text>
<text text-anchor="start" x="3866.133" y="-1356.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;POOL_CREATOR: uint256</text>
<polyline fill="none" stroke="#000000" points="3858.133,-1348.5 4095.0264,-1348.5 "/>
<text text-anchor="middle" x="3976.5797" y="-1331.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge10" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M3976.5797,-1026.3128C3976.5797,-1115.1143 3976.5797,-1210.1887 3976.5797,-1293.4838"/>
<polygon fill="none" stroke="#000000" points="3966.0798,-1293.605 3976.5797,-1323.6051 3987.0798,-1293.6051 3966.0798,-1293.605"/>
</g>
<!-- 2&#45;&gt;13 -->
<g id="edge9" class="edge">
<title>2&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4096.0155,-1026.6372C4098.8555,-1038.7677 4101.3985,-1050.8498 4103.5797,-1062.8 4185.4161,-1511.161 4155.7994,-2055.4321 4135.42,-2303.4597"/>
<polygon fill="none" stroke="#000000" points="4124.9342,-2302.8485 4132.8652,-2333.6276 4145.8593,-2304.6206 4124.9342,-2302.8485"/>
</g>
<!-- 14 -->
<g id="node20" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="718.7683,-1416.1 718.7683,-1641.7 1096.3911,-1641.7 1096.3911,-1416.1 718.7683,-1416.1"/>
<text text-anchor="middle" x="907.5797" y="-1625.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="907.5797" y="-1608.3" font-family="Times,serif" font-size="14.00" fill="#000000">IBFactory</text>
<polyline fill="none" stroke="#000000" points="718.7683,-1600.1 1096.3911,-1600.1 "/>
<text text-anchor="middle" x="907.5797" y="-1583.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="718.7683,-1575.3 1096.3911,-1575.3 "/>
<text text-anchor="start" x="726.7683" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="726.7683" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isBPool(b: address): bool</text>
<text text-anchor="start" x="726.7683" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newBPool(): IBPool</text>
<text text-anchor="start" x="726.7683" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setExchProxy(exchProxy: address)</text>
<text text-anchor="start" x="726.7683" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setOperationsRegistry(operationsRegistry: address)</text>
<text text-anchor="start" x="726.7683" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPermissionManager(permissionManager: address)</text>
<text text-anchor="start" x="726.7683" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setAuthorization(_authorization: address)</text>
<text text-anchor="start" x="726.7683" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="726.7683" y="-1424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LOG_NEW_POOL(caller: address, pool: address)</text>
</g>
<!-- 2&#45;&gt;14 -->
<g id="edge12" class="edge">
<title>2&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3464.3413,-1024.2221C3461.4209,-1025.1019 3458.5003,-1025.9614 3455.5797,-1026.8 3332.1088,-1062.253 1252.4976,-994.6908 1143.5797,-1062.8 1023.3923,-1137.9563 961.995,-1295.0592 932.3996,-1406.0451"/>
<polygon fill="#000000" stroke="#000000" points="928.9495,-1405.4044 929.8061,-1415.9646 935.7219,-1407.1752 928.9495,-1405.4044"/>
</g>
<!-- 17 -->
<g id="node23" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5718.3938,-1449.7 5718.3938,-1608.1 6096.7656,-1608.1 6096.7656,-1449.7 5718.3938,-1449.7"/>
<text text-anchor="middle" x="5907.5797" y="-1591.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5907.5797" y="-1574.7" font-family="Times,serif" font-size="14.00" fill="#000000">IEurPriceFeed</text>
<polyline fill="none" stroke="#000000" points="5718.3938,-1566.5 6096.7656,-1566.5 "/>
<text text-anchor="middle" x="5907.5797" y="-1549.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5718.3938,-1541.7 6096.7656,-1541.7 "/>
<text text-anchor="start" x="5726.3938" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5726.3938" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPrice(_asset: address): uint256</text>
<text text-anchor="start" x="5726.3938" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calculateAmount(_asset: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="5726.3938" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setAssetsFeeds(_assets: address[], _feeds: address[])</text>
<text text-anchor="start" x="5726.3938" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setAssetFeed(_asset: address, _feed: address)</text>
</g>
<!-- 2&#45;&gt;17 -->
<g id="edge14" class="edge">
<title>2&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4488.8356,-1024.1617C4491.7503,-1025.0612 4494.6651,-1025.9408 4497.5797,-1026.8 4626.8074,-1064.896 5598.3394,-986.7953 5709.5797,-1062.8 5834.7067,-1148.2927 5881.0979,-1329.9667 5898.0545,-1439.5427"/>
<polygon fill="#000000" stroke="#000000" points="5894.6164,-1440.2174 5899.558,-1449.5892 5901.5393,-1439.1813 5894.6164,-1440.2174"/>
</g>
<!-- 18 -->
<g id="node24" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5260.3047,-1441.3 5260.3047,-1616.5 5700.8547,-1616.5 5700.8547,-1441.3 5260.3047,-1441.3"/>
<text text-anchor="middle" x="5480.5797" y="-1599.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5480.5797" y="-1583.1" font-family="Times,serif" font-size="14.00" fill="#000000">IOperationsRegistry</text>
<polyline fill="none" stroke="#000000" points="5260.3047,-1574.9 5700.8547,-1574.9 "/>
<text text-anchor="middle" x="5480.5797" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5260.3047,-1550.1 5700.8547,-1550.1 "/>
<text text-anchor="start" x="5268.3047" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5268.3047" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tradingBalanceByOperation(_user: address, _operation: bytes4): uint256</text>
<text text-anchor="start" x="5268.3047" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="5268.3047" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;allowAsset(_asset: address)</text>
<text text-anchor="start" x="5268.3047" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;disallowAsset(_asset: address)</text>
<text text-anchor="start" x="5268.3047" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addTrade(_user: address, _operation: bytes4, _amount: uint256)</text>
</g>
<!-- 2&#45;&gt;18 -->
<g id="edge13" class="edge">
<title>2&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4488.8588,-1024.0845C4491.7659,-1025.0091 4494.673,-1025.9145 4497.5797,-1026.8 4577.7061,-1051.2104 5180.5196,-1016.8903 5250.5797,-1062.8 5377.5089,-1145.9754 5436.929,-1321.0191 5462.7604,-1431.3338"/>
<polygon fill="#000000" stroke="#000000" points="5459.3625,-1432.1757 5465.0084,-1441.1409 5466.1855,-1430.6117 5459.3625,-1432.1757"/>
</g>
<!-- 22 -->
<g id="node28" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2669.3854,-2359.1 2669.3854,-2517.5 2991.774,-2517.5 2991.774,-2359.1 2669.3854,-2359.1"/>
<text text-anchor="middle" x="2830.5797" y="-2500.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2830.5797" y="-2484.1" font-family="Times,serif" font-size="14.00" fill="#000000">IXTokenWrapper</text>
<polyline fill="none" stroke="#000000" points="2669.3854,-2475.9 2991.774,-2475.9 "/>
<text text-anchor="middle" x="2830.5797" y="-2459.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2669.3854,-2451.1 2991.774,-2451.1 "/>
<text text-anchor="start" x="2677.3854" y="-2434.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2677.3854" y="-2417.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tokenToXToken(_token: address): address</text>
<text text-anchor="start" x="2677.3854" y="-2400.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;xTokenToToken(_xToken: address): address</text>
<text text-anchor="start" x="2677.3854" y="-2384.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;wrap(_token: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2677.3854" y="-2367.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unwrap(_xToken: address, _amount: uint256): bool</text>
</g>
<!-- 2&#45;&gt;22 -->
<g id="edge11" class="edge">
<title>2&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3828.0786,-1026.4149C3680.9777,-1310.1779 3432.3771,-1723.538 3117.5797,-1995 3089.2748,-2019.4084 3068.4746,-2005.0461 3041.5797,-2031 2949.1059,-2120.2385 2889.3747,-2258.8117 2857.8512,-2349.0649"/>
<polygon fill="#000000" stroke="#000000" points="2854.4684,-2348.1387 2854.5175,-2358.7334 2861.0861,-2350.4205 2854.4684,-2348.1387"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6005.7939,-118.1 6005.7939,-242.9 6161.3655,-242.9 6161.3655,-118.1 6005.7939,-118.1"/>
<text text-anchor="middle" x="6083.5797" y="-226.3" font-family="Times,serif" font-size="14.00" fill="#000000">EthPriceFeed</text>
<polyline fill="none" stroke="#000000" points="6005.7939,-218.1 6161.3655,-218.1 "/>
<text text-anchor="start" x="6013.7939" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6013.7939" y="-184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint256</text>
<text text-anchor="start" x="6013.7939" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ONE: int256</text>
<polyline fill="none" stroke="#000000" points="6005.7939,-159.7 6161.3655,-159.7 "/>
<text text-anchor="start" x="6013.7939" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6013.7939" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latestAnswer(): int256</text>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6115.2031,-1474.9 6115.2031,-1582.9 6243.9563,-1582.9 6243.9563,-1474.9 6115.2031,-1474.9"/>
<text text-anchor="middle" x="6179.5797" y="-1566.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6179.5797" y="-1549.5" font-family="Times,serif" font-size="14.00" fill="#000000">IDecimals</text>
<polyline fill="none" stroke="#000000" points="6115.2031,-1541.3 6243.9563,-1541.3 "/>
<text text-anchor="middle" x="6179.5797" y="-1524.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6115.2031,-1516.5 6243.9563,-1516.5 "/>
<text text-anchor="start" x="6123.2031" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6123.2031" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5832.5234,-498.3 5832.5234,-925.5 6396.636,-925.5 6396.636,-498.3 5832.5234,-498.3"/>
<text text-anchor="middle" x="6114.5797" y="-908.9" font-family="Times,serif" font-size="14.00" fill="#000000">EurPriceFeed</text>
<polyline fill="none" stroke="#000000" points="5832.5234,-900.7 6396.636,-900.7 "/>
<text text-anchor="start" x="5840.5234" y="-884.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5840.5234" y="-867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FEEDS_MANAGER_ROLE: bytes32</text>
<text text-anchor="start" x="5840.5234" y="-850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;assetEthFeed: mapping(address=&gt;address)</text>
<text text-anchor="start" x="5840.5234" y="-833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;eurUsdFeed: address</text>
<text text-anchor="start" x="5840.5234" y="-816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ethUsdFeed: address</text>
<polyline fill="none" stroke="#000000" points="5832.5234,-808.7 6396.636,-808.7 "/>
<text text-anchor="start" x="5840.5234" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5840.5234" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setAssetsFeeds(_assets: address[], _feeds: address[])</text>
<text text-anchor="start" x="5840.5234" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setAssetFeed(_asset: address, _feed: address)</text>
<text text-anchor="start" x="5840.5234" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPrice(_asset: address): uint256</text>
<text text-anchor="start" x="5840.5234" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5840.5234" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeedsManager(_account: address)</text>
<text text-anchor="start" x="5840.5234" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAssetsFeeds(_assets: address[], _feeds: address[])</text>
<text text-anchor="start" x="5840.5234" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAssetFeed(_asset: address, _feed: address)</text>
<text text-anchor="start" x="5840.5234" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPrice(_asset: address): uint256</text>
<text text-anchor="start" x="5840.5234" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateAmount(_asset: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="5840.5234" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5840.5234" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EurUsdFeedSet(newEurUsdFeed: address)</text>
<text text-anchor="start" x="5840.5234" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EthUsdFeedSet(newEthUsdFeed: address)</text>
<text text-anchor="start" x="5840.5234" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetEthFeedSet(asset: address, feed: address)</text>
<text text-anchor="start" x="5840.5234" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFeedsManager()</text>
<text text-anchor="start" x="5840.5234" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_eurUsdFeed: address, _ethUsdFeed: address, _assets: address[], _feeds: address[])</text>
<text text-anchor="start" x="5840.5234" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEurUsdFeed(_eurUsdFeed: address)</text>
<text text-anchor="start" x="5840.5234" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEthUsdFeed(_ethUsdFeed: address)</text>
</g>
<!-- 6&#45;&gt;5 -->
<g id="edge16" class="edge">
<title>6&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6131.594,-925.7566C6145.8705,-1105.2016 6165.35,-1350.0435 6174.4732,-1464.7158"/>
<polygon fill="#000000" stroke="#000000" points="6170.9884,-1465.0466 6175.2706,-1474.7375 6177.9664,-1464.4914 6170.9884,-1465.0466"/>
</g>
<!-- 6&#45;&gt;17 -->
<g id="edge15" class="edge">
<title>6&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6060.3957,-925.7566C6020.1692,-1084.5249 5966.9718,-1294.4875 5935.123,-1420.1905"/>
<polygon fill="none" stroke="#000000" points="5924.8894,-1417.8297 5927.6996,-1449.4897 5945.2462,-1422.9875 5924.8894,-1417.8297"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5316.3451,-523.5 5316.3451,-900.3 5776.8143,-900.3 5776.8143,-523.5 5316.3451,-523.5"/>
<text text-anchor="middle" x="5546.5797" y="-883.7" font-family="Times,serif" font-size="14.00" fill="#000000">OperationsRegistry</text>
<polyline fill="none" stroke="#000000" points="5316.3451,-875.5 5776.8143,-875.5 "/>
<text text-anchor="start" x="5324.3451" y="-858.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5324.3451" y="-842.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ASSETS_MANAGER_ROLE: bytes32</text>
<text text-anchor="start" x="5324.3451" y="-825.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FEED_MANAGER_ROLE: bytes32</text>
<text text-anchor="start" x="5324.3451" y="-808.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;eurPriceFeed: address</text>
<text text-anchor="start" x="5324.3451" y="-791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allowedAssets: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5324.3451" y="-774.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingBalanceByOperation: mapping(address=&gt;mapping(bytes4=&gt;uint256))</text>
<polyline fill="none" stroke="#000000" points="5316.3451,-766.7 5776.8143,-766.7 "/>
<text text-anchor="start" x="5324.3451" y="-750.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5324.3451" y="-733.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeedManager(_account: address)</text>
<text text-anchor="start" x="5324.3451" y="-716.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAssetsManager(_account: address)</text>
<text text-anchor="start" x="5324.3451" y="-699.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5324.3451" y="-682.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EurPriceFeedSet(newEurPriceFeed: address)</text>
<text text-anchor="start" x="5324.3451" y="-666.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetAllowed(asset: address)</text>
<text text-anchor="start" x="5324.3451" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetDisallowed(asset: address)</text>
<text text-anchor="start" x="5324.3451" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAllowedAsset()</text>
<text text-anchor="start" x="5324.3451" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAssetsManager()</text>
<text text-anchor="start" x="5324.3451" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_eurPriceFeed: address)</text>
<text text-anchor="start" x="5324.3451" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="5324.3451" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowAsset(_asset: address)</text>
<text text-anchor="start" x="5324.3451" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disallowAsset(_asset: address)</text>
<text text-anchor="start" x="5324.3451" y="-531.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addTrade(_user: address, _operation: bytes4, _amount: uint256)</text>
</g>
<!-- 7&#45;&gt;17 -->
<g id="edge18" class="edge">
<title>7&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5635.4989,-900.3143C5659.8685,-952.76 5686.0466,-1009.8589 5709.5797,-1062.8 5767.5836,-1193.2883 5831.6881,-1345.8212 5870.8031,-1439.8991"/>
<polygon fill="#000000" stroke="#000000" points="5867.6741,-1441.4904 5874.7434,-1449.3818 5874.1383,-1438.8043 5867.6741,-1441.4904"/>
</g>
<!-- 7&#45;&gt;18 -->
<g id="edge17" class="edge">
<title>7&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5531.3551,-900.3621C5518.6275,-1057.9141 5500.8717,-1277.7094 5490.0813,-1411.2819"/>
<polygon fill="none" stroke="#000000" points="5479.6092,-1410.5138 5487.6594,-1441.2619 5500.541,-1412.2048 5479.6092,-1410.5138"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1628.1805,-1063.3 1628.1805,-1994.5 2798.9789,-1994.5 2798.9789,-1063.3 1628.1805,-1063.3"/>
<text text-anchor="middle" x="2213.5797" y="-1977.9" font-family="Times,serif" font-size="14.00" fill="#000000">BPoolProxy</text>
<polyline fill="none" stroke="#000000" points="1628.1805,-1969.7 2798.9789,-1969.7 "/>
<text text-anchor="start" x="1636.1805" y="-1953.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="1636.1805" y="-1936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BONE: uint256</text>
<text text-anchor="start" x="1636.1805" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1636.1805" y="-1902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;registry: IBRegistry</text>
<text text-anchor="start" x="1636.1805" y="-1885.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolFee: IProtocolFee</text>
<text text-anchor="start" x="1636.1805" y="-1869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;xTokenWrapper: IXTokenWrapper</text>
<text text-anchor="start" x="1636.1805" y="-1852.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;utilityTokenFeed: IUTokenPriceFeed</text>
<text text-anchor="start" x="1636.1805" y="-1835.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;feeReceiver: address</text>
<text text-anchor="start" x="1636.1805" y="-1818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;utilityToken: address</text>
<polyline fill="none" stroke="#000000" points="1628.1805,-1810.5 2798.9789,-1810.5 "/>
<text text-anchor="start" x="1636.1805" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1636.1805" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcEffectiveLiquidity(tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256): (effectiveLiquidity: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setRegistry(_registry: address)</text>
<text text-anchor="start" x="1636.1805" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setFeeReceiver(_feeReceiver: address)</text>
<text text-anchor="start" x="1636.1805" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="1636.1805" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setUtilityToken(_utilityToken: address)</text>
<text text-anchor="start" x="1636.1805" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setUtilityTokenFeed(_utilityTokenFeed: address)</text>
<text text-anchor="start" x="1636.1805" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolData(tokenIn: address, tokenOut: address, poolAddress: address): Pool</text>
<text text-anchor="start" x="1636.1805" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setProtocolFee(_protocolFee: address)</text>
<text text-anchor="start" x="1636.1805" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcTotalOutExactIn(bestInputAmounts: uint256[], bestPools: Pool[]): (totalOutput: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcTotalOutExactOut(bestInputAmounts: uint256[], bestPools: Pool[]): (totalOutput: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(token: IXToken, amount: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFeeFrom(token: IXToken, amount: uint256, useUtitlityToken: bool)</text>
<text text-anchor="start" x="1636.1805" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBalance(token: IXToken): uint256</text>
<text text-anchor="start" x="1636.1805" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(token: IXToken, amount: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1636.1805" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setUtilityTokenFeed(_utilityTokenFeed: address)</text>
<text text-anchor="start" x="1636.1805" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRegistry(_registry: address)</text>
<text text-anchor="start" x="1636.1805" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeReceiver(_feeReceiver: address)</text>
<text text-anchor="start" x="1636.1805" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="1636.1805" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setUtilityToken(_utilityToken: address)</text>
<text text-anchor="start" x="1636.1805" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolFee(_protocolFee: address)</text>
<text text-anchor="start" x="1636.1805" y="-1424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPool(pool: address, poolAmountIn: uint256, minAmountsOut: uint256[])</text>
<text text-anchor="start" x="1636.1805" y="-1407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapExternAmountIn(pool: address, tokenIn: address, tokenAmountIn: uint256, minPoolAmountOut: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1390.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapPoolAmountOut(pool: address, tokenIn: address, poolAmountOut: uint256, maxAmountIn: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1373.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapPoolAmountIn(pool: address, tokenOut: address, poolAmountIn: uint256, minAmountOut: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1357.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapExternAmountOut(pool: address, tokenOut: address, tokenAmountOut: uint256, maxPoolAmountIn: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1636.1805" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RegistrySet(registry: address)</text>
<text text-anchor="start" x="1636.1805" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeReceiverSet(feeReceiver: address)</text>
<text text-anchor="start" x="1636.1805" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; XTokenWrapperSet(xTokenWrapper: address)</text>
<text text-anchor="start" x="1636.1805" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UtilityTokenSet(utilityToken: address)</text>
<text text-anchor="start" x="1636.1805" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UtilityTokenFeedSet(utilityTokenFeed: address)</text>
<text text-anchor="start" x="1636.1805" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtocolFeeSet(protocolFee: address)</text>
<text text-anchor="start" x="1636.1805" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_registry: address, _protocolFee: address, _feeReceiver: address, _xTokenWrapper: address, _utilityToken: address, _utilityTokenFeed: address)</text>
<text text-anchor="start" x="1636.1805" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;batchSwapExactIn(swaps: Swap[], tokenIn: IXToken, tokenOut: IXToken, totalAmountIn: uint256, minTotalAmountOut: uint256, useUtilityToken: bool): (totalAmountOut: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;viewSplitExactOut(tokenIn: address, tokenOut: address, swapAmount: uint256, nPools: uint256): (swaps: Swap[], totalInput: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multihopBatchSwapExactIn(swapSequences: Swap[][], tokenIn: IXToken, tokenOut: IXToken, totalAmountIn: uint256, minTotalAmountOut: uint256, useUtilityToken: bool): (totalAmountOut: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1155.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multihopBatchSwapExactOut(swapSequences: Swap[][], tokenIn: IXToken, tokenOut: IXToken, maxTotalAmountIn: uint256, useUtilityToken: bool): (totalAmountIn: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1138.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;smartSwapExactIn(tokenIn: IXToken, tokenOut: IXToken, totalAmountIn: uint256, minTotalAmountOut: uint256, nPools: uint256, useUtilityToken: bool): (totalAmountOut: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1121.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;smartSwapExactOut(tokenIn: IXToken, tokenOut: IXToken, totalAmountOut: uint256, maxTotalAmountIn: uint256, nPools: uint256, useUtilityToken: bool): (totalAmountIn: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1105.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinPool(pool: address, poolAmountOut: uint256, maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="1636.1805" y="-1088.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;viewSplitExactIn(tokenIn: address, tokenOut: address, swapAmount: uint256, nPools: uint256): (swaps: Swap[], totalOutput: uint256)</text>
<text text-anchor="start" x="1636.1805" y="-1071.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;batchSwapExactOut(swaps: Swap[], tokenIn: IXToken, tokenOut: IXToken, maxTotalAmountIn: uint256, useUtilityToken: bool): (totalAmountIn: uint256)</text>
</g>
<!-- 11 -->
<g id="node16" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2050.9251,-2882.1 2050.9251,-2973.3 2148.2343,-2973.3 2148.2343,-2882.1 2050.9251,-2882.1"/>
<text text-anchor="middle" x="2099.5797" y="-2956.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2099.5797" y="-2939.9" font-family="Times,serif" font-size="14.00" fill="#000000">ISwap</text>
<polyline fill="none" stroke="#000000" points="2050.9251,-2931.7 2148.2343,-2931.7 "/>
<text text-anchor="middle" x="2099.5797" y="-2915.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2050.9251,-2906.9 2148.2343,-2906.9 "/>
<text text-anchor="middle" x="2099.5797" y="-2890.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 8&#45;&gt;11 -->
<g id="edge19" class="edge">
<title>8&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2226.3438,-1994.677C2232.7031,-2342.0533 2232.613,-2769.1906 2196.5797,-2845.6 2190.6225,-2858.2324 2181.68,-2869.6376 2171.593,-2879.6501"/>
<polygon fill="none" stroke="#000000" points="2164.5147,-2871.8849 2148.3974,-2899.28 2178.0806,-2887.9151 2164.5147,-2871.8849"/>
</g>
<!-- 15 -->
<g id="node21" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-2031.5 0,-2845.1 1147.1594,-2845.1 1147.1594,-2031.5 0,-2031.5"/>
<text text-anchor="middle" x="573.5797" y="-2828.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="573.5797" y="-2811.7" font-family="Times,serif" font-size="14.00" fill="#000000">IBPool</text>
<polyline fill="none" stroke="#000000" points="0,-2803.5 1147.1594,-2803.5 "/>
<text text-anchor="middle" x="573.5797" y="-2786.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-2778.7 1147.1594,-2778.7 "/>
<text text-anchor="start" x="8" y="-2762.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-2745.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSpotPriceSansFee(tokenIn: address, tokenOut: address): (spotPrice: uint256)</text>
<text text-anchor="start" x="8" y="-2728.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPublicSwap(): bool</text>
<text text-anchor="start" x="8" y="-2711.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isBound(t: address): bool</text>
<text text-anchor="start" x="8" y="-2694.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getNumTokens(): uint256</text>
<text text-anchor="start" x="8" y="-2678.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCurrentTokens(): (tokens: address[])</text>
<text text-anchor="start" x="8" y="-2661.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getFinalTokens(): (tokens: address[])</text>
<text text-anchor="start" x="8" y="-2644.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDenormalizedWeight(token: address): uint256</text>
<text text-anchor="start" x="8" y="-2627.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTotalDenormalizedWeight(): uint256</text>
<text text-anchor="start" x="8" y="-2610.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getNormalizedWeight(token: address): uint256</text>
<text text-anchor="start" x="8" y="-2594.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBalance(token: address): uint256</text>
<text text-anchor="start" x="8" y="-2577.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSwapFee(): uint256</text>
<text text-anchor="start" x="8" y="-2560.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getController(): address</text>
<text text-anchor="start" x="8" y="-2543.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setSwapFee(swapFee: uint256)</text>
<text text-anchor="start" x="8" y="-2526.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setController(manager: address)</text>
<text text-anchor="start" x="8" y="-2510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPublicSwap(public_: bool)</text>
<text text-anchor="start" x="8" y="-2493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;finalize()</text>
<text text-anchor="start" x="8" y="-2476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;bind(token: address, balance: uint256, denorm: uint256)</text>
<text text-anchor="start" x="8" y="-2459.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rebind(token: address, balance: uint256, denorm: uint256)</text>
<text text-anchor="start" x="8" y="-2442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unbind(token: address)</text>
<text text-anchor="start" x="8" y="-2426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;gulp(token: address)</text>
<text text-anchor="start" x="8" y="-2409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSpotPrice(tokenIn: address, tokenOut: address): (spotPrice: uint256)</text>
<text text-anchor="start" x="8" y="-2392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isFinalized(): bool</text>
<text text-anchor="start" x="8" y="-2375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinPool(poolAmountOut: uint256, maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="8" y="-2358.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitPool(poolAmountIn: uint256, minAmountsOut: uint256[])</text>
<text text-anchor="start" x="8" y="-2342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;swapExactAmountIn(tokenIn: address, tokenAmountIn: uint256, tokenOut: address, minAmountOut: uint256, maxPrice: uint256): (tokenAmountOut: uint256, spotPriceAfter: uint256)</text>
<text text-anchor="start" x="8" y="-2325.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;swapExactAmountOut(tokenIn: address, maxAmountIn: uint256, tokenOut: address, tokenAmountOut: uint256, maxPrice: uint256): (tokenAmountIn: uint256, spotPriceAfter: uint256)</text>
<text text-anchor="start" x="8" y="-2308.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinswapExternAmountIn(tokenIn: address, tokenAmountIn: uint256, minPoolAmountOut: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="8" y="-2291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinswapPoolAmountOut(tokenIn: address, poolAmountOut: uint256, maxAmountIn: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="8" y="-2274.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitswapPoolAmountIn(tokenOut: address, poolAmountIn: uint256, minAmountOut: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="8" y="-2258.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitswapExternAmountOut(tokenOut: address, tokenAmountOut: uint256, maxPoolAmountIn: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="8" y="-2241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;totalSupply(): uint256</text>
<text text-anchor="start" x="8" y="-2224.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;balanceOf(whom: address): uint256</text>
<text text-anchor="start" x="8" y="-2207.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;allowance(src: address, dst: address): uint256</text>
<text text-anchor="start" x="8" y="-2190.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approve(dst: address, amt: uint256): bool</text>
<text text-anchor="start" x="8" y="-2174.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transfer(dst: address, amt: uint256): bool</text>
<text text-anchor="start" x="8" y="-2157.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferFrom(src: address, dst: address, amt: uint256): bool</text>
<text text-anchor="start" x="8" y="-2140.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSpotPrice(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, swapFee: uint256): (spotPrice: uint256)</text>
<text text-anchor="start" x="8" y="-2123.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcOutGivenIn(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, tokenAmountIn: uint256, swapFee: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="8" y="-2106.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcInGivenOut(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, tokenAmountOut: uint256, swapFee: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="8" y="-2090.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolOutGivenSingleIn(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountIn: uint256, swapFee: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="8" y="-2073.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleInGivenPoolOut(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountOut: uint256, swapFee: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="8" y="-2056.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleOutGivenPoolIn(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountIn: uint256, swapFee: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="8" y="-2039.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolInGivenSingleOut(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountOut: uint256, swapFee: uint256): (poolAmountIn: uint256)</text>
</g>
<!-- 8&#45;&gt;15 -->
<g id="edge25" class="edge">
<title>8&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1627.8169,-1991.7371C1625.0737,-1992.8417 1622.3279,-1993.9294 1619.5797,-1995 1430.2629,-2068.748 1353.3214,-1964.7939 1156.8751,-2031.052"/>
<polygon fill="#000000" stroke="#000000" points="1155.7246,-2027.7464 1147.4293,-2034.3372 1158.0241,-2034.358 1155.7246,-2027.7464"/>
</g>
<!-- 16 -->
<g id="node22" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2243.344,-2384.3 2243.344,-2492.3 2617.8154,-2492.3 2617.8154,-2384.3 2243.344,-2384.3"/>
<text text-anchor="middle" x="2430.5797" y="-2475.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2430.5797" y="-2458.9" font-family="Times,serif" font-size="14.00" fill="#000000">IBRegistry</text>
<polyline fill="none" stroke="#000000" points="2243.344,-2450.7 2617.8154,-2450.7 "/>
<text text-anchor="middle" x="2430.5797" y="-2434.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2243.344,-2425.9 2617.8154,-2425.9 "/>
<text text-anchor="start" x="2251.344" y="-2409.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2251.344" y="-2392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBestPoolsWithLimit(address, address, uint256): address[]</text>
</g>
<!-- 8&#45;&gt;16 -->
<g id="edge20" class="edge">
<title>8&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M2324.7019,-1994.5891C2360.4333,-2144.3316 2395.7852,-2292.484 2415.2451,-2374.0359"/>
<polygon fill="#000000" stroke="#000000" points="2411.928,-2375.2147 2417.6535,-2384.1292 2418.7369,-2373.5899 2411.928,-2375.2147"/>
</g>
<!-- 19 -->
<g id="node25" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1165.5656,-2375.9 1165.5656,-2500.7 1597.5938,-2500.7 1597.5938,-2375.9 1165.5656,-2375.9"/>
<text text-anchor="middle" x="1381.5797" y="-2484.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1381.5797" y="-2467.3" font-family="Times,serif" font-size="14.00" fill="#000000">IProtocolFee</text>
<polyline fill="none" stroke="#000000" points="1165.5656,-2459.1 1597.5938,-2459.1 "/>
<text text-anchor="middle" x="1381.5797" y="-2442.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1165.5656,-2434.3 1597.5938,-2434.3 "/>
<text text-anchor="start" x="1173.5656" y="-2417.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1173.5656" y="-2400.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;batchFee(swaps: Swap[], amountIn: uint256): uint256</text>
<text text-anchor="start" x="1173.5656" y="-2384.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;multihopBatch(swapSequences: Swap[][], amountIn: uint256): uint256</text>
</g>
<!-- 8&#45;&gt;19 -->
<g id="edge21" class="edge">
<title>8&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M1637.9602,-1994.5285C1627.2038,-2006.5972 1616.7267,-2018.7605 1606.5797,-2031 1519.2393,-2136.3514 1448.9675,-2280.6215 1411.4188,-2366.1738"/>
<polygon fill="#000000" stroke="#000000" points="1408.1225,-2364.9769 1407.3348,-2375.5424 1414.5393,-2367.7742 1408.1225,-2364.9769"/>
</g>
<!-- 20 -->
<g id="node26" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1615.3938,-2375.9 1615.3938,-2500.7 1993.7656,-2500.7 1993.7656,-2375.9 1615.3938,-2375.9"/>
<text text-anchor="middle" x="1804.5797" y="-2484.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1804.5797" y="-2467.3" font-family="Times,serif" font-size="14.00" fill="#000000">IUTokenPriceFeed</text>
<polyline fill="none" stroke="#000000" points="1615.3938,-2459.1 1993.7656,-2459.1 "/>
<text text-anchor="middle" x="1804.5797" y="-2442.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1615.3938,-2434.3 1993.7656,-2434.3 "/>
<text text-anchor="start" x="1623.3938" y="-2417.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1623.3938" y="-2400.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPrice(_asset: address): uint256</text>
<text text-anchor="start" x="1623.3938" y="-2384.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calculateAmount(_asset: address, _amount: uint256): uint256</text>
</g>
<!-- 8&#45;&gt;20 -->
<g id="edge23" class="edge">
<title>8&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M2004.1374,-1994.5891C1938.8812,-2139.6844 1874.2964,-2283.2869 1836.9827,-2366.2527"/>
<polygon fill="#000000" stroke="#000000" points="1833.7014,-2365.0158 1832.7916,-2375.5716 1840.0854,-2367.8871 1833.7014,-2365.0158"/>
</g>
<!-- 21 -->
<g id="node27" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3050.9029,-2333.9 3050.9029,-2542.7 3380.2565,-2542.7 3380.2565,-2333.9 3050.9029,-2333.9"/>
<text text-anchor="middle" x="3215.5797" y="-2526.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3215.5797" y="-2509.3" font-family="Times,serif" font-size="14.00" fill="#000000">IXToken</text>
<polyline fill="none" stroke="#000000" points="3050.9029,-2501.1 3380.2565,-2501.1 "/>
<text text-anchor="middle" x="3215.5797" y="-2484.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3050.9029,-2476.3 3380.2565,-2476.3 "/>
<text text-anchor="start" x="3058.9029" y="-2459.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3058.9029" y="-2442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="3058.9029" y="-2426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="3058.9029" y="-2409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setAuthorization(authorization_: address)</text>
<text text-anchor="start" x="3058.9029" y="-2392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setOperationsRegistry(operationsRegistry_: address)</text>
<text text-anchor="start" x="3058.9029" y="-2375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setKya(kya_: string)</text>
<text text-anchor="start" x="3058.9029" y="-2358.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, amount: uint256)</text>
<text text-anchor="start" x="3058.9029" y="-2342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burnFrom(account: address, amount: uint256)</text>
</g>
<!-- 8&#45;&gt;21 -->
<g id="edge24" class="edge">
<title>8&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2799.0751,-1991.1017C2801.9083,-1992.4171 2804.7433,-1993.7167 2807.5797,-1995 2887.0791,-2030.9676 2930.3188,-1979.258 3000.5797,-2031 3097.4305,-2102.3235 3154.6963,-2230.4588 3185.4572,-2324.0139"/>
<polygon fill="#000000" stroke="#000000" points="3182.2183,-2325.3734 3188.6241,-2333.8124 3188.8791,-2323.2207 3182.2183,-2325.3734"/>
</g>
<!-- 8&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>8&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M2602.3663,-1994.7047C2610.6515,-2006.8238 2618.7373,-2018.9337 2626.5797,-2031 2694.2912,-2135.1804 2755.7271,-2264.8938 2793.0871,-2349.5616"/>
<polygon fill="#000000" stroke="#000000" points="2789.9589,-2351.1429 2797.1863,-2358.8899 2796.3674,-2348.3267 2789.9589,-2351.1429"/>
</g>
<!-- 8struct0 -->
<g id="node10" class="node">
<title>8struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2129.9559,-628.3 2129.9559,-795.5 2297.2035,-795.5 2297.2035,-628.3 2129.9559,-628.3"/>
<text text-anchor="middle" x="2213.5797" y="-778.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2213.5797" y="-762.1" font-family="Times,serif" font-size="14.00" fill="#000000">Pool</text>
<polyline fill="none" stroke="#000000" points="2129.9559,-753.9 2297.2035,-753.9 "/>
<text text-anchor="start" x="2137.9559" y="-737.3" font-family="Times,serif" font-size="14.00" fill="#000000">pool: address</text>
<text text-anchor="start" x="2137.9559" y="-720.5" font-family="Times,serif" font-size="14.00" fill="#000000">tokenBalanceIn: uint256</text>
<text text-anchor="start" x="2137.9559" y="-703.7" font-family="Times,serif" font-size="14.00" fill="#000000">tokenWeightIn: uint256</text>
<text text-anchor="start" x="2137.9559" y="-686.9" font-family="Times,serif" font-size="14.00" fill="#000000">tokenBalanceOut: uint256</text>
<text text-anchor="start" x="2137.9559" y="-670.1" font-family="Times,serif" font-size="14.00" fill="#000000">tokenWeightOut: uint256</text>
<text text-anchor="start" x="2137.9559" y="-653.3" font-family="Times,serif" font-size="14.00" fill="#000000">swapFee: uint256</text>
<text text-anchor="start" x="2137.9559" y="-636.5" font-family="Times,serif" font-size="14.00" fill="#000000">effectiveLiquidity: uint256</text>
</g>
<!-- 8struct0&#45;&gt;8 -->
<g id="edge1" class="edge">
<title>8struct0&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M2213.5797,-795.8747C2213.5797,-859.4593 2213.5797,-952.4422 2213.5797,-1050.977"/>
<polygon fill="#000000" stroke="#000000" points="2213.5798,-1051.0193 2217.5797,-1057.0193 2213.5797,-1063.0193 2209.5797,-1057.0193 2213.5798,-1051.0193"/>
</g>
<!-- 9 -->
<g id="node11" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="542.0792,-464.7 542.0792,-959.1 1273.0802,-959.1 1273.0802,-464.7 542.0792,-464.7"/>
<text text-anchor="middle" x="907.5797" y="-942.5" font-family="Times,serif" font-size="14.00" fill="#000000">BRegistry</text>
<polyline fill="none" stroke="#000000" points="542.0792,-934.3 1273.0802,-934.3 "/>
<text text-anchor="start" x="550.0792" y="-917.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="550.0792" y="-900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BONE: uint256</text>
<text text-anchor="start" x="550.0792" y="-884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_SWAP_FEE: uint256</text>
<text text-anchor="start" x="550.0792" y="-867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_pools: mapping(bytes32=&gt;SortedPools)</text>
<text text-anchor="start" x="550.0792" y="-850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_infos: mapping(address=&gt;mapping(bytes32=&gt;PoolPairInfo))</text>
<text text-anchor="start" x="550.0792" y="-833.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="550.0792" y="-816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;bfactory: IBFactory</text>
<polyline fill="none" stroke="#000000" points="542.0792,-808.7 1273.0802,-808.7 "/>
<text text-anchor="start" x="550.0792" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="550.0792" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_createKey(token1: address, token2: address): bytes32</text>
<text text-anchor="start" x="550.0792" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getEffectiveLiquidityForPools(token1: address, token2: address, pools: address[]): (effectiveLiquidity: uint256[])</text>
<text text-anchor="start" x="550.0792" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bdiv(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="550.0792" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bmul(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="550.0792" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_buildSortIndices(effectiveLiquidity: uint256[]): bytes32</text>
<text text-anchor="start" x="550.0792" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="550.0792" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPairInfo(pool: address, fromToken: address, destToken: address): (weight1: uint256, weight2: uint256, swapFee: uint256)</text>
<text text-anchor="start" x="550.0792" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBestPools(fromToken: address, destToken: address): (pools: address[])</text>
<text text-anchor="start" x="550.0792" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addPools(pools: address[], token1: address, token2: address): (listed: uint256[])</text>
<text text-anchor="start" x="550.0792" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sortPools(tokens: address[], lengthLimit: uint256)</text>
<text text-anchor="start" x="550.0792" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sortPoolsWithPurge(tokens: address[], lengthLimit: uint256)</text>
<text text-anchor="start" x="550.0792" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="550.0792" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolTokenPairAdded(pool: address, token1: address, token2: address)</text>
<text text-anchor="start" x="550.0792" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; IndicesUpdated(token1: address, token2: address, oldIndices: bytes32, newIndices: bytes32)</text>
<text text-anchor="start" x="550.0792" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_bfactory: address)</text>
<text text-anchor="start" x="550.0792" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolsWithLimit(fromToken: address, destToken: address, offset: uint256, limit: uint256): (result: address[])</text>
<text text-anchor="start" x="550.0792" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBestPoolsWithLimit(fromToken: address, destToken: address, limit: uint256): (pools: address[])</text>
<text text-anchor="start" x="550.0792" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addPoolPair(pool: address, token1: address, token2: address): (listed: uint256)</text>
<text text-anchor="start" x="550.0792" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getEffectiveLiquidityForPoolsPurge(token1: address, token2: address, pools: address[]): (effectiveLiquidity: uint256[])</text>
</g>
<!-- 10 -->
<g id="node14" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2816.7567,-1432.9 2816.7567,-1624.9 3108.4027,-1624.9 3108.4027,-1432.9 2816.7567,-1432.9"/>
<text text-anchor="middle" x="2962.5797" y="-1608.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2962.5797" y="-1591.5" font-family="Times,serif" font-size="14.00" fill="#000000">EnumerableSet</text>
<polyline fill="none" stroke="#000000" points="2816.7567,-1583.3 3108.4027,-1583.3 "/>
<text text-anchor="middle" x="2962.5797" y="-1566.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2816.7567,-1558.5 3108.4027,-1558.5 "/>
<text text-anchor="start" x="2824.7567" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2824.7567" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;add(set: AddressSet, value: address): bool</text>
<text text-anchor="start" x="2824.7567" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;remove(set: AddressSet, value: address): bool</text>
<text text-anchor="start" x="2824.7567" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;contains(set: AddressSet, value: address): bool</text>
<text text-anchor="start" x="2824.7567" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enumerate(set: AddressSet): address[]</text>
<text text-anchor="start" x="2824.7567" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;length(set: AddressSet): uint256</text>
<text text-anchor="start" x="2824.7567" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;get(set: AddressSet, index: uint256): address</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge26" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1273.1522,-827.3909C1511.8236,-897.652 1831.6419,-982.1924 2120.5797,-1026.8 2196.1228,-1038.4627 2746.7774,-1016.4766 2807.5797,-1062.8 2918.2543,-1147.1195 2950.8158,-1313.2853 2959.8769,-1422.7214"/>
<polygon fill="#000000" stroke="#000000" points="2956.3958,-1423.1012 2960.6585,-1432.8006 2963.3748,-1422.56 2956.3958,-1423.1012"/>
</g>
<!-- 9&#45;&gt;14 -->
<g id="edge27" class="edge">
<title>9&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M907.5797,-959.2441C907.5797,-1106.8752 907.5797,-1287.9499 907.5797,-1405.7575"/>
<polygon fill="#000000" stroke="#000000" points="904.0798,-1405.8946 907.5797,-1415.8947 911.0798,-1405.8947 904.0798,-1405.8946"/>
</g>
<!-- 9&#45;&gt;15 -->
<g id="edge28" class="edge">
<title>9&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M751.6527,-959.1766C735.2203,-993.0469 720.542,-1028.1176 709.5797,-1062.8 611.0839,-1374.4194 578.8964,-1743.7752 570.3418,-2021.2401"/>
<polygon fill="#000000" stroke="#000000" points="566.836,-2021.3841 570.0354,-2031.4843 573.8329,-2021.5935 566.836,-2021.3841"/>
</g>
<!-- 9struct0 -->
<g id="node12" class="node">
<title>9struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="766.505,-122.1 766.505,-238.9 874.6544,-238.9 874.6544,-122.1 766.505,-122.1"/>
<text text-anchor="middle" x="820.5797" y="-222.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="820.5797" y="-205.5" font-family="Times,serif" font-size="14.00" fill="#000000">PoolPairInfo</text>
<polyline fill="none" stroke="#000000" points="766.505,-197.3 874.6544,-197.3 "/>
<text text-anchor="start" x="774.505" y="-180.7" font-family="Times,serif" font-size="14.00" fill="#000000">weight1: uint80</text>
<text text-anchor="start" x="774.505" y="-163.9" font-family="Times,serif" font-size="14.00" fill="#000000">weight2: uint80</text>
<text text-anchor="start" x="774.505" y="-147.1" font-family="Times,serif" font-size="14.00" fill="#000000">swapFee: uint80</text>
<text text-anchor="start" x="774.505" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#000000">liq: uint256</text>
</g>
<!-- 9struct0&#45;&gt;9 -->
<g id="edge2" class="edge">
<title>9struct0&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M830.1808,-239.1441C838.7662,-291.5838 851.98,-372.2947 865.0738,-452.2717"/>
<polygon fill="#000000" stroke="#000000" points="865.1498,-452.7364 870.0666,-458.0113 867.0886,-464.5788 862.1718,-459.3039 865.1498,-452.7364"/>
</g>
<!-- 9struct1 -->
<g id="node13" class="node">
<title>9struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="892.3244,-138.9 892.3244,-222.1 1098.835,-222.1 1098.835,-138.9 892.3244,-138.9"/>
<text text-anchor="middle" x="995.5797" y="-205.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="995.5797" y="-188.7" font-family="Times,serif" font-size="14.00" fill="#000000">SortedPools</text>
<polyline fill="none" stroke="#000000" points="892.3244,-180.5 1098.835,-180.5 "/>
<text text-anchor="start" x="900.3244" y="-163.9" font-family="Times,serif" font-size="14.00" fill="#000000">pools: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="900.3244" y="-147.1" font-family="Times,serif" font-size="14.00" fill="#000000">indices: bytes32</text>
</g>
<!-- 9struct1&#45;&gt;9 -->
<g id="edge3" class="edge">
<title>9struct1&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M988.6745,-222.1981C980.2599,-273.0107 965.3294,-363.1706 950.5533,-452.3981"/>
<polygon fill="#000000" stroke="#000000" points="950.5252,-452.5684 953.4911,-459.1413 948.5646,-464.4072 945.5986,-457.8342 950.5252,-452.5684"/>
</g>
<!-- 10struct0 -->
<g id="node15" class="node">
<title>10struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2842.8986,-670.3 2842.8986,-753.5 3056.2608,-753.5 3056.2608,-670.3 2842.8986,-670.3"/>
<text text-anchor="middle" x="2949.5797" y="-736.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2949.5797" y="-720.1" font-family="Times,serif" font-size="14.00" fill="#000000">AddressSet</text>
<polyline fill="none" stroke="#000000" points="2842.8986,-711.9 3056.2608,-711.9 "/>
<text text-anchor="start" x="2850.8986" y="-695.3" font-family="Times,serif" font-size="14.00" fill="#000000">index: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2850.8986" y="-678.5" font-family="Times,serif" font-size="14.00" fill="#000000">values: address[]</text>
</g>
<!-- 10struct0&#45;&gt;10 -->
<g id="edge4" class="edge">
<title>10struct0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M2950.2422,-753.5384C2952.1905,-875.9793 2957.946,-1237.6874 2960.855,-1420.5106"/>
<polygon fill="#000000" stroke="#000000" points="2960.8557,-1420.5586 2964.9507,-1426.4942 2961.0467,-1432.5571 2956.9517,-1426.6215 2960.8557,-1420.5586"/>
</g>
<!-- 11struct0 -->
<g id="node17" class="node">
<title>11struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2011.2722,-2363.1 2011.2722,-2513.5 2187.8872,-2513.5 2187.8872,-2363.1 2011.2722,-2363.1"/>
<text text-anchor="middle" x="2099.5797" y="-2496.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2099.5797" y="-2480.1" font-family="Times,serif" font-size="14.00" fill="#000000">Swap</text>
<polyline fill="none" stroke="#000000" points="2011.2722,-2471.9 2187.8872,-2471.9 "/>
<text text-anchor="start" x="2019.2722" y="-2455.3" font-family="Times,serif" font-size="14.00" fill="#000000">pool: address</text>
<text text-anchor="start" x="2019.2722" y="-2438.5" font-family="Times,serif" font-size="14.00" fill="#000000">tokenIn: address</text>
<text text-anchor="start" x="2019.2722" y="-2421.7" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOut: address</text>
<text text-anchor="start" x="2019.2722" y="-2404.9" font-family="Times,serif" font-size="14.00" fill="#000000">swapAmount: uint256</text>
<text text-anchor="start" x="2019.2722" y="-2388.1" font-family="Times,serif" font-size="14.00" fill="#000000">limitReturnAmount: uint256</text>
<text text-anchor="start" x="2019.2722" y="-2371.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxPrice: uint256</text>
</g>
<!-- 11struct0&#45;&gt;11 -->
<g id="edge5" class="edge">
<title>11struct0&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M2099.5797,-2513.6962C2099.5797,-2611.8031 2099.5797,-2781.1255 2099.5797,-2869.7711"/>
<polygon fill="#000000" stroke="#000000" points="2099.5798,-2869.9873 2103.5797,-2875.9874 2099.5797,-2881.9873 2095.5797,-2875.9873 2099.5798,-2869.9873"/>
</g>
<!-- 12 -->
<g id="node18" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1152.9264,-1340.5 1152.9264,-1717.3 1610.233,-1717.3 1610.233,-1340.5 1152.9264,-1340.5"/>
<text text-anchor="middle" x="1381.5797" y="-1700.7" font-family="Times,serif" font-size="14.00" fill="#000000">ProtocolFee</text>
<polyline fill="none" stroke="#000000" points="1152.9264,-1692.5 1610.233,-1692.5 "/>
<text text-anchor="start" x="1160.9264" y="-1675.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1160.9264" y="-1659.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ONE: uint256</text>
<text text-anchor="start" x="1160.9264" y="-1642.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_FEE: uint256</text>
<text text-anchor="start" x="1160.9264" y="-1625.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_FEE: uint256</text>
<text text-anchor="start" x="1160.9264" y="-1608.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolFee: uint256</text>
<text text-anchor="start" x="1160.9264" y="-1591.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minProtocolFee: uint256</text>
<polyline fill="none" stroke="#000000" points="1152.9264,-1583.7 1610.233,-1583.7 "/>
<text text-anchor="start" x="1160.9264" y="-1567.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1160.9264" y="-1550.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setProtocolFee(_protocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setMinProtocolFee(_minProtocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolFeeAmount(poolFeeAmount: uint256): uint256</text>
<text text-anchor="start" x="1160.9264" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolFeeAmount(pool: address, swapAmount: uint256): uint256</text>
<text text-anchor="start" x="1160.9264" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1160.9264" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolFee(_protocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMinProtocolFee(_minProtocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1432.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1160.9264" y="-1415.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtocolFeeSet(protocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1399.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinProtocolFeeSet(minProtocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1382.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_protocolFee: uint256, _minProtocolFee: uint256)</text>
<text text-anchor="start" x="1160.9264" y="-1365.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;batchFee(swaps: Swap[], totalAmountIn: uint256): uint256</text>
<text text-anchor="start" x="1160.9264" y="-1348.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multihopBatch(swapSequences: Swap[][], totalAmountIn: uint256): uint256</text>
</g>
<!-- 12&#45;&gt;15 -->
<g id="edge30" class="edge">
<title>12&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1289.0795,-1717.5389C1240.8299,-1806.4447 1176.9894,-1911.1359 1105.5797,-1995 1097.3539,-2004.6604 1088.9022,-2014.2777 1080.2572,-2023.839"/>
<polygon fill="#000000" stroke="#000000" points="1077.4301,-2021.7452 1073.2833,-2031.4948 1082.6049,-2026.4591 1077.4301,-2021.7452"/>
</g>
<!-- 12&#45;&gt;19 -->
<g id="edge29" class="edge">
<title>12&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1381.5797,-1717.3283C1381.5797,-1909.0634 1381.5797,-2198.3276 1381.5797,-2345.3728"/>
<polygon fill="none" stroke="#000000" points="1371.0798,-2345.7708 1381.5797,-2375.7709 1392.0798,-2345.7709 1371.0798,-2345.7708"/>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge31" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M866.1219,-1641.7795C830.8131,-1737.9167 777.7963,-1882.2684 726.5533,-2021.7905"/>
<polygon fill="#000000" stroke="#000000" points="723.1863,-2020.806 723.0241,-2031.3996 729.7572,-2023.2194 723.1863,-2020.806"/>
</g>
<!-- 19&#45;&gt;11 -->
<g id="edge32" class="edge">
<title>19&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1397.4603,-2500.9531C1424.1542,-2592.5235 1487.1991,-2761.1712 1606.5797,-2845.6 1671.8549,-2891.7642 1898.6196,-2914.0088 2020.5517,-2922.8492"/>
<polygon fill="none" stroke="#000000" points="2019.8903,-2933.3284 2050.5384,-2924.9056 2021.3271,-2912.3776 2019.8903,-2933.3284"/>
</g>
<!-- 23 -->
<g id="node29" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6261.614,-1390.9 6261.614,-1666.9 6683.5454,-1666.9 6683.5454,-1390.9 6261.614,-1390.9"/>
<text text-anchor="middle" x="6472.5797" y="-1650.3" font-family="Times,serif" font-size="14.00" fill="#000000">PermissionItems</text>
<polyline fill="none" stroke="#000000" points="6261.614,-1642.1 6683.5454,-1642.1 "/>
<text text-anchor="start" x="6269.614" y="-1625.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6269.614" y="-1608.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MINTER_ROLE: bytes32</text>
<text text-anchor="start" x="6269.614" y="-1591.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BURNER_ROLE: bytes32</text>
<polyline fill="none" stroke="#000000" points="6261.614,-1583.7 6683.5454,-1583.7 "/>
<text text-anchor="start" x="6269.614" y="-1567.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6269.614" y="-1550.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="6269.614" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAdmin(account: address)</text>
<text text-anchor="start" x="6269.614" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revokeAdmin(account: address)</text>
<text text-anchor="start" x="6269.614" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(to: address, id: uint256, amount: uint256, data: bytes)</text>
<text text-anchor="start" x="6269.614" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintBatch(to: address, ids: uint256[], amounts: uint256[], data: bytes)</text>
<text text-anchor="start" x="6269.614" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, id: uint256, value: uint256)</text>
<text text-anchor="start" x="6269.614" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnBatch(account: address, ids: uint256[], values: uint256[])</text>
<text text-anchor="start" x="6269.614" y="-1432.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(address, bool)</text>
<text text-anchor="start" x="6269.614" y="-1415.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(address, address, uint256, uint256, bytes)</text>
<text text-anchor="start" x="6269.614" y="-1399.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeBatchTransferFrom(address, address, uint256[], uint256[], bytes)</text>
</g>
<!-- 24 -->
<g id="node30" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6656.4391,-481.5 6656.4391,-942.3 7012.7203,-942.3 7012.7203,-481.5 6656.4391,-481.5"/>
<text text-anchor="middle" x="6834.5797" y="-925.7" font-family="Times,serif" font-size="14.00" fill="#000000">PermissionManager</text>
<polyline fill="none" stroke="#000000" points="6656.4391,-917.5 7012.7203,-917.5 "/>
<text text-anchor="middle" x="6834.5797" y="-900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6656.4391,-892.7 7012.7203,-892.7 "/>
<text text-anchor="start" x="6664.4391" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6664.4391" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_hasItem(_user: address, itemId: uint256): bool</text>
<text text-anchor="start" x="6664.4391" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6664.4391" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPermissionsAdmin(_permissionsAdmin: address)</text>
<text text-anchor="start" x="6664.4391" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6664.4391" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PermissionItemsSet(newPermissions: address)</text>
<text text-anchor="start" x="6664.4391" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin()</text>
<text text-anchor="start" x="6664.4391" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPermissionsAdmin()</text>
<text text-anchor="start" x="6664.4391" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRejected(_account: address): bool</text>
<text text-anchor="start" x="6664.4391" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPermissionItems(_permissionItems: address): bool</text>
<text text-anchor="start" x="6664.4391" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assingTier1(_accounts: address[])</text>
<text text-anchor="start" x="6664.4391" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assingTier2(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;suspendUser(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;rejectUser(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_permissionItems: address, _admin: address)</text>
<text text-anchor="start" x="6664.4391" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revokeTier2(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unsuspendUser(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unrejectUser(_usersProxies: UserProxy[])</text>
<text text-anchor="start" x="6664.4391" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;assignItem(_itemId: uint256, _accounts: address[])</text>
<text text-anchor="start" x="6664.4391" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeItem(_itemId: uint256, _accounts: address[])</text>
<text text-anchor="start" x="6664.4391" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasTier1(_account: address): bool</text>
<text text-anchor="start" x="6664.4391" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasTier2(_account: address): bool</text>
<text text-anchor="start" x="6664.4391" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSuspended(_account: address): bool</text>
<text text-anchor="start" x="6664.4391" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revokeTier1(_accounts: address[])</text>
</g>
<!-- 24&#45;&gt;23 -->
<g id="edge34" class="edge">
<title>24&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6732.4173,-942.471C6670.0607,-1083.204 6592.1883,-1258.9546 6538.0321,-1381.1801"/>
<polygon fill="#000000" stroke="#000000" points="6534.6995,-1380.0616 6533.8484,-1390.6222 6541.0995,-1382.8973 6534.6995,-1380.0616"/>
</g>
<!-- 25 -->
<g id="node32" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6701.3735,-1424.5 6701.3735,-1633.3 6967.7859,-1633.3 6967.7859,-1424.5 6701.3735,-1424.5"/>
<text text-anchor="middle" x="6834.5797" y="-1616.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="6834.5797" y="-1599.9" font-family="Times,serif" font-size="14.00" fill="#000000">PermissionManagerStorage</text>
<polyline fill="none" stroke="#000000" points="6701.3735,-1591.7 6967.7859,-1591.7 "/>
<text text-anchor="start" x="6709.3735" y="-1575.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6709.3735" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PERMISSIONS_ADMIN_ROLE: bytes32</text>
<text text-anchor="start" x="6709.3735" y="-1541.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permissionItems: address</text>
<text text-anchor="start" x="6709.3735" y="-1524.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SUSPENDED_ID: uint256</text>
<text text-anchor="start" x="6709.3735" y="-1507.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;TIER_1_ID: uint256</text>
<text text-anchor="start" x="6709.3735" y="-1491.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;TIER_2_ID: uint256</text>
<text text-anchor="start" x="6709.3735" y="-1474.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REJECTED_ID: uint256</text>
<text text-anchor="start" x="6709.3735" y="-1457.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PROTOCOL_CONTRACT: uint256</text>
<polyline fill="none" stroke="#000000" points="6701.3735,-1449.3 6967.7859,-1449.3 "/>
<text text-anchor="middle" x="6834.5797" y="-1432.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge33" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M6834.5797,-942.471C6834.5797,-1088.2679 6834.5797,-1271.6477 6834.5797,-1394.1618"/>
<polygon fill="none" stroke="#000000" points="6824.0798,-1394.3226 6834.5797,-1424.3227 6845.0798,-1394.3227 6824.0798,-1394.3226"/>
</g>
<!-- 24struct0 -->
<g id="node31" class="node">
<title>24struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6785.5646,-138.9 6785.5646,-222.1 6883.5948,-222.1 6883.5948,-138.9 6785.5646,-138.9"/>
<text text-anchor="middle" x="6834.5797" y="-205.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6834.5797" y="-188.7" font-family="Times,serif" font-size="14.00" fill="#000000">UserProxy</text>
<polyline fill="none" stroke="#000000" points="6785.5646,-180.5 6883.5948,-180.5 "/>
<text text-anchor="start" x="6793.5646" y="-163.9" font-family="Times,serif" font-size="14.00" fill="#000000">user: address</text>
<text text-anchor="start" x="6793.5646" y="-147.1" font-family="Times,serif" font-size="14.00" fill="#000000">proxy: address</text>
</g>
<!-- 24struct0&#45;&gt;24 -->
<g id="edge6" class="edge">
<title>24struct0&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M6834.5797,-222.1981C6834.5797,-276.2234 6834.5797,-374.7287 6834.5797,-469.301"/>
<polygon fill="#000000" stroke="#000000" points="6834.5798,-469.4101 6838.5797,-475.4102 6834.5797,-481.4101 6830.5797,-475.4101 6834.5798,-469.4101"/>
</g>
<!-- 26 -->
<g id="node33" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4506.9898,-506.7 4506.9898,-917.1 5260.1696,-917.1 5260.1696,-506.7 4506.9898,-506.7"/>
<text text-anchor="middle" x="4883.5797" y="-900.5" font-family="Times,serif" font-size="14.00" fill="#000000">XToken</text>
<polyline fill="none" stroke="#000000" points="4506.9898,-892.3 5260.1696,-892.3 "/>
<text text-anchor="start" x="4514.9898" y="-875.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4514.9898" y="-858.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;operationsRegistry: IOperationsRegistry</text>
<text text-anchor="start" x="4514.9898" y="-842.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;kya: string</text>
<text text-anchor="start" x="4514.9898" y="-825.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;WRAPPER_ROLE: bytes32</text>
<polyline fill="none" stroke="#000000" points="4506.9898,-817.1 5260.1696,-817.1 "/>
<text text-anchor="start" x="4514.9898" y="-800.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4514.9898" y="-783.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setKya(kya_: string)</text>
<text text-anchor="start" x="4514.9898" y="-766.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4514.9898" y="-750.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; KyaSet(newKya: string)</text>
<text text-anchor="start" x="4514.9898" y="-733.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OperationsRegistrySet(newOperationsRegistry: address)</text>
<text text-anchor="start" x="4514.9898" y="-716.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin()</text>
<text text-anchor="start" x="4514.9898" y="-699.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyWrapper()</text>
<text text-anchor="start" x="4514.9898" y="-682.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string, decimals_: uint8, kya_: string, authorization_: address, operationsRegistry_: address)</text>
<text text-anchor="start" x="4514.9898" y="-666.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setWrapper(account: address)</text>
<text text-anchor="start" x="4514.9898" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="4514.9898" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnFrom(account: address, amount: uint256)</text>
<text text-anchor="start" x="4514.9898" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAuthorization(authorization_: address)</text>
<text text-anchor="start" x="4514.9898" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOperationsRegistry(operationsRegistry_: address)</text>
<text text-anchor="start" x="4514.9898" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setKya(kya_: string)</text>
<text text-anchor="start" x="4514.9898" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(recipient: address, amount: uint256): bool</text>
<text text-anchor="start" x="4514.9898" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(sender: address, recipient: address, amount: uint256): bool</text>
<text text-anchor="start" x="4514.9898" y="-531.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint256)</text>
<text text-anchor="start" x="4514.9898" y="-514.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unpause()</text>
</g>
<!-- 26&#45;&gt;0 -->
<g id="edge35" class="edge">
<title>26&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M4836.8241,-917.2725C4801.2576,-1073.4976 4753.5868,-1282.8905 4724.2589,-1411.7124"/>
<polygon fill="none" stroke="#000000" points="4713.9962,-1409.4901 4717.5747,-1441.0725 4734.4723,-1414.1518 4713.9962,-1409.4901"/>
</g>
<!-- 26&#45;&gt;18 -->
<g id="edge36" class="edge">
<title>26&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M5123.0554,-917.269C5168.5142,-962.5327 5213.4186,-1012.1641 5250.5797,-1062.8 5336.3058,-1179.6107 5404.9777,-1333.2582 5444.2632,-1431.5773"/>
<polygon fill="#000000" stroke="#000000" points="5441.0284,-1432.9147 5447.9729,-1440.9162 5447.5339,-1430.3305 5441.0284,-1432.9147"/>
</g>
<!-- 27 -->
<g id="node34" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4652.2324,-.5 4652.2324,-360.5 5518.927,-360.5 5518.927,-.5 4652.2324,-.5"/>
<text text-anchor="middle" x="5085.5797" y="-343.9" font-family="Times,serif" font-size="14.00" fill="#000000">XTokenFactory</text>
<polyline fill="none" stroke="#000000" points="4652.2324,-335.7 5518.927,-335.7 "/>
<text text-anchor="start" x="4660.2324" y="-319.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4660.2324" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;xTokenWrapper: address</text>
<text text-anchor="start" x="4660.2324" y="-285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;operationsRegistry: address</text>
<text text-anchor="start" x="4660.2324" y="-268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;eurPriceFeed: address</text>
<polyline fill="none" stroke="#000000" points="4652.2324,-260.5 5518.927,-260.5 "/>
<text text-anchor="start" x="4660.2324" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4660.2324" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="4660.2324" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setOperationsRegistry(_operationsRegistry: address)</text>
<text text-anchor="start" x="4660.2324" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="4660.2324" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4660.2324" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setXTokenWrapper(_xTokenWrapper: address)</text>
<text text-anchor="start" x="4660.2324" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOperationsRegistry(_operationsRegistry: address)</text>
<text text-anchor="start" x="4660.2324" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEurPriceFeed(_eurPriceFeed: address)</text>
<text text-anchor="start" x="4660.2324" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployXToken(token_: address, name_: string, symbol_: string, decimals_: uint8, kya_: string, authorization_: address, assetFeed_: address): address</text>
<text text-anchor="start" x="4660.2324" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4660.2324" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; XTokenWrapperSet(newXTokenWrapper: address)</text>
<text text-anchor="start" x="4660.2324" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OperationsRegistrySet(newOperationsRegistry: address)</text>
<text text-anchor="start" x="4660.2324" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EurPriceFeedSet(newEurPriceFeed: address)</text>
<text text-anchor="start" x="4660.2324" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; XTokenDeployed(xToken: address)</text>
<text text-anchor="start" x="4660.2324" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_xTokenWrapper: address, _operationsRegistry: address, _eurPriceFeed: address)</text>
</g>
<!-- 27&#45;&gt;17 -->
<g id="edge40" class="edge">
<title>27&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5518.9724,-271.9474C5639.45,-306.2986 5747.7775,-348.8469 5785.5797,-397 5828.8692,-452.1429 5815.6738,-957.1422 5823.5797,-1026.8 5840.0815,-1172.1946 5870.373,-1339.5368 5889.7156,-1439.6246"/>
<polygon fill="#000000" stroke="#000000" points="5886.3286,-1440.5444 5891.6687,-1449.6951 5893.2006,-1439.2116 5886.3286,-1440.5444"/>
</g>
<!-- 27&#45;&gt;18 -->
<g id="edge39" class="edge">
<title>27&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5251.9426,-360.62C5258.6429,-372.4847 5264.6106,-384.6432 5269.5797,-397 5321.8917,-527.0858 5280.2688,-889.2755 5307.5797,-1026.8 5336.3732,-1171.7901 5396.9566,-1332.109 5438.2174,-1431.6871"/>
<polygon fill="#000000" stroke="#000000" points="5435.0743,-1433.2442 5442.1483,-1441.1315 5441.5369,-1430.5543 5435.0743,-1433.2442"/>
</g>
<!-- 27&#45;&gt;26 -->
<g id="edge37" class="edge">
<title>27&#45;&gt;26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5017.0508,-360.7785C5000.4406,-404.4748 4982.5192,-451.6206 4965.3655,-496.7465"/>
<polygon fill="#000000" stroke="#000000" points="4961.9992,-495.7522 4961.7176,-506.3433 4968.5424,-498.2395 4961.9992,-495.7522"/>
</g>
<!-- 28 -->
<g id="node35" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3074.66,-582.3 3074.66,-841.5 3446.4994,-841.5 3446.4994,-582.3 3074.66,-582.3"/>
<text text-anchor="middle" x="3260.5797" y="-824.9" font-family="Times,serif" font-size="14.00" fill="#000000">XTokenWrapper</text>
<polyline fill="none" stroke="#000000" points="3074.66,-816.7 3446.4994,-816.7 "/>
<text text-anchor="start" x="3082.66" y="-800.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3082.66" y="-783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ETH_TOKEN_ADDRESS: address</text>
<text text-anchor="start" x="3082.66" y="-766.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REGISTRY_MANAGER_ROLE: bytes32</text>
<text text-anchor="start" x="3082.66" y="-749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tokenToXToken: mapping(address=&gt;address)</text>
<text text-anchor="start" x="3082.66" y="-732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;xTokenToToken: mapping(address=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="3074.66,-724.7 3446.4994,-724.7 "/>
<text text-anchor="start" x="3082.66" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3082.66" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; wrap(_token: address, _amount: uint256): bool</text>
<text text-anchor="start" x="3082.66" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRegistryManager(_registryManager: address)</text>
<text text-anchor="start" x="3082.66" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;registerToken(_token: address, _xToken: address)</text>
<text text-anchor="start" x="3082.66" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unwrap(_xToken: address, _amount: uint256): bool</text>
<text text-anchor="start" x="3082.66" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3082.66" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RegisterToken(token: address, xToken: address)</text>
<text text-anchor="start" x="3082.66" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge38" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.1898,-196.5904C4237.4928,-219.27 3647.5563,-272.809 3455.5797,-397 3391.6405,-438.3627 3345.128,-508.845 3313.602,-572.6538"/>
<polygon fill="#000000" stroke="#000000" points="3310.2761,-571.4908 3309.0591,-582.0155 3316.5738,-574.5469 3310.2761,-571.4908"/>
</g>
<!-- 28&#45;&gt;21 -->
<g id="edge41" class="edge">
<title>28&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3257.1974,-841.6606C3248.7115,-1167.2156 3226.6241,-2014.5896 3218.5723,-2323.49"/>
<polygon fill="#000000" stroke="#000000" points="3215.0653,-2323.7177 3218.3034,-2333.8055 3222.0629,-2323.9002 3215.0653,-2323.7177"/>
</g>
</g>
</svg>
